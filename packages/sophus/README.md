modified from https://github.com/conda-forge/staged-recipes/pull/20264
